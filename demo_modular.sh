#!/bin/bash

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  DEMOSTRACIÃ“N COMPLETA - V3.0 FUNCIONES MODULARES Y COLECCIONESâ•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

cd "/Users/rodrigosanchez/Library/Mobile Documents/com~apple~CloudDocs/DUOC/DESARROLLO APP MOVILES I_001A/Semana 1/vet-clinic-api-kotlin"

echo "ğŸ”§ Compilando proyecto..."
kotlinc src/Main.kt src/model/*.kt src/service/*.kt src/util/*.kt -include-runtime -d vet-clinic-modular.jar 2>&1 | grep -i "error" || echo "âœ… CompilaciÃ³n exitosa"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“š TEST 1: COLECCIONES AVANZADAS - FIND (Buscar por especialidad)"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Buscando veterinario con especialidad 'CirugÃ­a'..."
echo -e "8\nCirugÃ­a\n9" | java -jar vet-clinic-modular.jar 2>&1 | grep -A 10 "BUSCAR VETERINARIO"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ—ºï¸  TEST 2: MAP - Agenda de Veterinarios"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Mostrando agenda completa (Map de veterinarios -> citas)..."
echo -e "6\n9" | java -jar vet-clinic-modular.jar 2>&1 | grep -A 20 "AGENDA COMPLETA"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ“Š TEST 3: ESTADÃSTICAS con sumOf"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Mostrando estadÃ­sticas (usa sumOf para contar citas)..."
echo -e "7\n9" | java -jar vet-clinic-modular.jar 2>&1 | grep -A 25 "ESTADÃSTICAS DE VETERINARIOS"
echo ""

echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "ğŸ’Š TEST 4: FUNCIONES MODULARES - Registro con medicamento"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Registrando consulta con cÃ¡lculo de medicamento y prÃ³xima vacunaciÃ³n..."
echo -e "1\nMax\nPerro\n3\n15.5\nJuan PÃ©rez\n+56911111111\njuan@test.cl\ns\n01/01/2025\n1\nControl general\n30\n1\n01/11/2025 10:00\n1\n9" | java -jar vet-clinic-modular.jar 2>&1 | grep -A 15 "INFORMACIÃ“N DE MEDICAMENTO"
echo ""

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                 âœ… RESUMEN DE IMPLEMENTACIÃ“N                  â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "âœ“ 1. FUNCIONES MODULARES REUTILIZABLES:"
echo "     â€¢ calcularProximaVacunacion(fecha, especie)"
echo "     â€¢ determinarDosisRecomendada(peso, edad)"
echo "     â€¢ formatearFecha(LocalDate)"
echo "     â€¢ calcularDiasHastaVacunacion(fecha)"
echo ""
echo "âœ“ 2. COLECCIONES AVANZADAS - FILTER:"
echo "     â€¢ obtenerVeterinariosDisponibles()"
echo "     â€¢ obtenerVeterinariosLibresEnHorario(fechaHora)"
echo "     â€¢ Filtra listas con condiciones complejas"
echo ""
echo "âœ“ 3. COLECCIONES AVANZADAS - FIND:"
echo "     â€¢ buscarVeterinarioPorEspecialidad(especialidad)"
echo "     â€¢ buscarVeterinarioPorNombre(nombre)"
echo "     â€¢ Retorna primer elemento que cumple condiciÃ³n"
echo ""
echo "âœ“ 4. COLECCIONES AVANZADAS - MAP:"
echo "     â€¢ mutableMapOf<String, MutableList<String>>"
echo "     â€¢ Clave: Nombre del veterinario"
echo "     â€¢ Valor: Lista de citas agendadas"
echo "     â€¢ registrarCitaEnAgenda() - AÃ±ade al Map"
echo "     â€¢ obtenerAgendaVeterinario() - Consulta Map"
echo ""
echo "âœ“ 5. OPERACIONES DE COLECCIONES:"
echo "     â€¢ sumOf() - Suma total de citas"
echo "     â€¢ forEach() - Itera sobre Map"
echo "     â€¢ forEachIndexed() - Itera con Ã­ndice"
echo "     â€¢ filter { condiciÃ³n } - Filtrado funcional"
echo "     â€¢ find { condiciÃ³n } - BÃºsqueda funcional"
echo ""
echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘        ğŸ‰ TODAS LAS FUNCIONALIDADES IMPLEMENTADAS             â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"

